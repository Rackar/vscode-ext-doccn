(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{282:function(e,t,s){"use strict";s.r(t);var r=s(17),n=Object(r.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"你的第一个插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#你的第一个插件"}},[e._v("#")]),e._v(" 你的第一个插件")]),e._v(" "),s("p",[e._v("在本小节中，我们会教你一些基础概念，请先安装好"),s("a",{attrs:{href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node.js"),s("OutboundLink")],1),e._v("和"),s("a",{attrs:{href:"https://git-scm.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Git"),s("OutboundLink")],1),e._v("，然后安装"),s("a",{attrs:{href:"http://yeoman.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Yeoman"),s("OutboundLink")],1),e._v("和"),s("a",{attrs:{href:"https://www.npmjs.com/package/generator-code",target:"_blank",rel:"noopener noreferrer"}},[e._v("VS Code Extension Generator"),s("OutboundLink")],1),e._v("：")]),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -g yo generator-code\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("这个脚手架会生成一个可以立马开发的项目。运行生成器，然后填好下列字段：")]),e._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[e._v("yo code\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ? What type of extension do you want to create? New Extension (TypeScript)")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ? What's the name of your extension? HelloWorld")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("### Press <Enter> to choose default for all options below ###")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ? What's the identifier of your extension? helloworld")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ? What's the description of your extension? LEAVE BLANK")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ? Enable stricter TypeScript checking in 'tsconfig.json'? Yes")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ? Setup linting using 'tslint'? Yes")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ? Initialize a git repository? Yes")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ? Which package manager to use? npm")]),e._v("\n\ncode ./helloworld\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br")])]),s("p",[e._v("完成后进入 VS Code，按下"),s("code",[e._v("F5")]),e._v("，你会立即看到一个"),s("strong",[e._v("插件发开主机")]),e._v("窗口，其中就运行着插件。")]),e._v(" "),s("p",[e._v("在命令面板("),s("code",[e._v("Ctrl+Shift+P")]),e._v(")中输入"),s("code",[e._v("Hello World")]),e._v("命令。")]),e._v(" "),s("video",{attrs:{loop:"",muted:"",playsinline:"",controls:""},domProps:{muted:!0}},[s("source",{attrs:{src:"https://code.visualstudio.com/api/get-started/your-first-extension/launch.mp4",type:"video/mp4"}})]),e._v(" "),s("p",[e._v("如果你看到了"),s("code",[e._v("Hello World")]),e._v("提示弹窗，恭喜你成功了！")]),e._v(" "),s("h2",{attrs:{id:"开发插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开发插件"}},[e._v("#")]),e._v(" 开发插件")]),e._v(" "),s("hr"),e._v(" "),s("p",[e._v("现在让我们稍稍改动一下弹窗显示的内容：")]),e._v(" "),s("ul",[s("li",[e._v("将项目文件"),s("code",[e._v("extension.ts")]),e._v("中的"),s("code",[e._v("Hello World")]),e._v("改为"),s("code",[e._v("Hello VS Code")])]),e._v(" "),s("li",[e._v("重新加载开发窗口")]),e._v(" "),s("li",[e._v("再次运行"),s("code",[e._v("Hello World")]),e._v("命令")])]),e._v(" "),s("p",[e._v("你应该就能看到显示的消息更新了：")]),e._v(" "),s("video",{attrs:{loop:"",muted:"",playsinline:"",controls:""},domProps:{muted:!0}},[s("source",{attrs:{src:"https://code.visualstudio.com/api/get-started/your-first-extension/reload.mp4",type:"video/mp4"}})]),e._v(" "),s("p",[e._v("请浏览你的项目目录和代码，然后进行下面的小练习：")]),e._v(" "),s("ul",[s("li",[e._v("为命令面板中的"),s("code",[e._v("Hello World")]),e._v("换一个名字")]),e._v(" "),s("li",[s("RouterLink",{attrs:{to:"/references/contribution-points.html"}},[e._v("配置")]),e._v("一个新的命令：打开一个提示弹窗，显示当前时间")],1),e._v(" "),s("li",[e._v("用显示警告信息的"),s("RouterLink",{attrs:{to:"/references/vscode-api.html"}},[e._v("VS Code API")]),e._v("替换原本的"),s("code",[e._v("vscode.window.showInformationMessage")])],1)]),e._v(" "),s("h2",{attrs:{id:"调试插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#调试插件"}},[e._v("#")]),e._v(" 调试插件")]),e._v(" "),s("hr"),e._v(" "),s("p",[e._v("VS Code 内置的调试功能已经非常方便了，在代码序号的左侧空白处点击一下，VS Code 就会设下断点，进入调试模式后将鼠标悬停于变量上显示变量值，或是在调试侧边栏中检查变量值，此时，你还可以用"),s("strong",[e._v("调试控制台")]),e._v("直接对表达式求值。")]),e._v(" "),s("video",{attrs:{loop:"",muted:"",playsinline:"",controls:""},domProps:{muted:!0}},[s("source",{attrs:{src:"https://code.visualstudio.com/api/get-started/your-first-extension/debug.mp4",type:"video/mp4"}})]),e._v(" "),s("p",[e._v("有关 Node.js 调试的部分，请参考"),s("a",{attrs:{href:"https://code.visualstudio.com/docs/nodejs/nodejs-debugging",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node.js 调试"),s("OutboundLink")],1),e._v("部分。")]),e._v(" "),s("h2",{attrs:{id:"下一步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下一步"}},[e._v("#")]),e._v(" 下一步")]),e._v(" "),s("p",[e._v("在下个主题"),s("RouterLink",{attrs:{to:"/get-started/extension-anatomy.html"}},[e._v("解析插件结构")]),e._v("中，我们会大致看一下"),s("code",[e._v("Hello World")]),e._v("示例的源码，然后解释一些关键的概念。")],1),e._v(" "),s("p",[e._v("本节教程的源码可参考"),s("a",{attrs:{href:"https://github.com/Microsoft/vscode-extension-samples/tree/master/helloworld-sample",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/Microsoft/vscode-extension-samples/tree/master/helloworld-sample"),s("OutboundLink")],1),e._v("。\n此外，"),s("RouterLink",{attrs:{to:"/extension-guides/"}},[e._v("插件指引")]),e._v("章节还包含其他示例代码，每个例子都对应着不同的 VS Code Api 和发布内容配置。")],1),e._v(" "),s("h4",{attrs:{id:"使用-javascript"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-javascript"}},[e._v("#")]),e._v(" 使用 Javascript")]),e._v(" "),s("p",[e._v("在本指南中，我们主要使用 TypeScript 开发 VS Code 插件，因为我们认为 TS 是开发插件的最佳实践。如果你想使用 JS，我们也同样提供了源码"),s("a",{attrs:{href:"https://github.com/Microsoft/vscode-extension-samples/tree/master/helloworld-minimal-sample",target:"_blank",rel:"noopener noreferrer"}},[e._v("helloworld-minimal-sample"),s("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=n.exports}}]);