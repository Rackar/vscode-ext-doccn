(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{310:function(s,t,n){"use strict";n.r(t);var a=n(17),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"解析插件结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#解析插件结构"}},[s._v("#")]),s._v(" 解析插件结构")]),s._v(" "),n("p",[s._v("上一节中，你已经能够自己创建一个基础的插件了，但是在面纱之下，它究竟是怎么运作的呢？")]),s._v(" "),n("p",[n("code",[s._v("Hello World")]),s._v("插件包含了3个部分：")]),s._v(" "),n("ul",[n("li",[s._v("注册"),n("RouterLink",{attrs:{to:"/references/activation-events.html#onCommand"}},[n("code",[s._v("onCommand")])]),s._v(" "),n("RouterLink",{attrs:{to:"/references/activation-events.html"}},[n("strong",[s._v("激活事件")])]),s._v(": "),n("code",[s._v("onCommand:extension.helloWorld")]),s._v("，所以用户可以在输入"),n("code",[s._v("Hello World")]),s._v("命令后激活插件。")],1),s._v(" "),n("li",[s._v("使用"),n("RouterLink",{attrs:{to:"/references/contribution-points.html#contributescommands"}},[n("code",[s._v("contributes.commands")])]),s._v(" "),n("RouterLink",{attrs:{to:"/references/contribution-points.html"}},[n("strong",[s._v("发布内容配置")])]),s._v("，绑定一个命令ID "),n("code",[s._v("extension.helloWorld")]),s._v("，然后 "),n("code",[s._v("Hello World")]),s._v("命令就可以在命令面板中使用了。")],1),s._v(" "),n("li",[s._v("使用"),n("a",{attrs:{href:"/references/vscode-api#commandsregisterCommand"}},[n("code",[s._v("commands.registerCommand")])]),s._v(" "),n("RouterLink",{attrs:{to:"/references/vscode-api.html"}},[n("strong",[s._v("VS Code API")])]),s._v(" 将一个函数绑定到你注册的命令ID"),n("code",[s._v("extension.helloWorld")]),s._v("上。")],1)]),s._v(" "),n("p",[s._v("理解下面三个关键概念你才能作出一个基本的插件：")]),s._v(" "),n("ul",[n("li",[n("RouterLink",{attrs:{to:"/get-started/references/activation-events.html"}},[n("strong",[s._v("激活事件")])]),s._v(": 插件激活的时机。")],1),s._v(" "),n("li",[n("RouterLink",{attrs:{to:"/get-started/references/contribution-points.html"}},[n("strong",[s._v("发布内容配置")])]),s._v(": VS Code扩展了 "),n("code",[s._v("package.json")]),s._v(" "),n("a",{attrs:{href:"/get-started/extension-anatomy?id=%E6%8F%92%E4%BB%B6%E6%B8%85%E5%8D%95"}},[s._v("插件清单")]),s._v("的字段以便于开发插件。")],1),s._v(" "),n("li",[n("RouterLink",{attrs:{to:"/get-started/references/vscode-api.html"}},[n("strong",[s._v("VS Code API")])]),s._v(": 你的插件代码中需要调用的一系列JavaScript API。")],1)]),s._v(" "),n("p",[s._v("大体上，你的插件就是通过组合发布内容配置和VS Code API扩展VS Code的功能。你能在"),n("RouterLink",{attrs:{to:"/extension-capabilities/"}},[s._v("插件功能概述")]),s._v("主题中找到合适你插件的配置点和VS Code API。")],1),s._v(" "),n("p",[s._v("好了，现在让我们自己瞧一瞧"),n("code",[s._v("Hello World")]),s._v("示例的源码部分，以及我们上面提到的3个概念是如何应用其中的。")]),s._v(" "),n("h2",{attrs:{id:"插件目录结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#插件目录结构"}},[s._v("#")]),s._v(" 插件目录结构")]),s._v(" "),n("hr"),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(".\n├── .vscode\n│   ├── launch.json     // 插件加载和调试的配置\n│   └── tasks.json      // 配置TypeScript编译任务\n├── .gitignore          // 忽略构建输出和node_modules文件\n├── README.md           // 一个友好的插件文档\n├── src\n│   └── extension.ts    // 插件源代码\n├── package.json        // 插件配置清单\n├── tsconfig.json       // TypeScript配置\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("下面的几个文件超出了本节讨论的范围，你可以自行前往相应的章节挖掘详细内容：")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("launch.json")]),s._v(" 用于配置VS Code "),n("a",{attrs:{href:"https://code.visualstudio.com/docs/editor/debugging",target:"_blank",rel:"noopener noreferrer"}},[s._v("调试"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("code",[s._v("tasks.json")]),s._v(" 用于定义VS Code "),n("a",{attrs:{href:"https://code.visualstudio.com/docs/editor/tasks",target:"_blank",rel:"noopener noreferrer"}},[s._v("任务"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("code",[s._v("tsconfig.json")]),s._v(" 参阅TypeScript "),n("a",{attrs:{href:"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Handbook"),n("OutboundLink")],1)])]),s._v(" "),n("p",[s._v("现在，让我们把精力集中在这个插件的关键部分——"),n("code",[s._v("package.json")]),s._v("和"),n("code",[s._v("extensions.ts")]),s._v("。")]),s._v(" "),n("h4",{attrs:{id:"插件清单"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#插件清单"}},[s._v("#")]),s._v(" 插件清单")]),s._v(" "),n("p",[s._v("每个VS Code插件都必须包含一个"),n("code",[s._v("package.json")]),s._v("，它就是插件的"),n("RouterLink",{attrs:{to:"/references/extension-manifest.html"}},[s._v("配置清单")]),s._v("。"),n("code",[s._v("package.json")]),s._v("混合了Node.js字段，如："),n("code",[s._v("scripts")]),s._v("、"),n("code",[s._v("dependencies")]),s._v("，还加入了一些VS Code独有的字段，如："),n("code",[s._v("publisher")]),s._v("、"),n("code",[s._v("activationEvents")]),s._v("、"),n("code",[s._v("contributes")]),s._v("等。关于这些VS Code字段说明都在"),n("a",{attrs:{href:""}},[s._v("插件清单参考")]),s._v("中可以找到。我们在本节介绍一些非常重要的字段：")],1),s._v(" "),n("ul",[n("li",[n("code",[s._v("name")]),s._v(" 和 "),n("code",[s._v("publisher")]),s._v(": VS Code 使用"),n("code",[s._v("<publisher>.<name>")]),s._v("作为一个插件的ID。你可以这么理解，Hello World 例子的 ID 就是"),n("code",[s._v("vscode-samples.helloworld-sample")]),s._v("。VS Code 使用 ID 来区分各个不同的插件。")]),s._v(" "),n("li",[n("code",[s._v("main")]),s._v(": 插件的主入口。")]),s._v(" "),n("li",[n("code",[s._v("activationEvents")]),s._v(" 和 "),n("code",[s._v("contributes")]),s._v(": "),n("RouterLink",{attrs:{to:"/references/activation-events.html"}},[s._v("激活事件")]),s._v(" and "),n("RouterLink",{attrs:{to:"/references/contribution-points.html"}},[s._v("发布内容配置")]),s._v("。")],1),s._v(" "),n("li",[n("code",[s._v("engines.vscode")]),s._v(": 描述了这个插件依赖的最低VS Code API版本。")]),s._v(" "),n("li",[n("code",[s._v("postinstall")]),s._v(" 脚本: 如果你的"),n("code",[s._v("engines.vscode")]),s._v("声明的是1.25版的VS Code API，那它就会按照这个声明去安装目标版本。一旦"),n("code",[s._v("vscode.d.ts")]),s._v("文件存在于"),n("code",[s._v("node_modules/vscode/vscode.d.ts")]),s._v("，IntelliSense就会开始运作，你就可以对所有VS Code API进行定义跳转或者语法检查了。")])]),s._v(" "),n("div",{staticClass:"language-json line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"helloworld-sample"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"displayName"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"helloworld-sample"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"description"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"HelloWorld example for VS Code"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"version"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0.0.1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"publisher"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vscode-samples"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"repository"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/Microsoft/vscode-extension-samples/helloworld-sample"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"engines"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"vscode"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^1.25.0"')]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"categories"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Other"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"activationEvents"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"onCommand:extension.helloWorld"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"main"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./out/extension.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"contributes"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"commands"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"command"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"extension.helloWorld"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"title"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World"')]),s._v("\n\t\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"vscode:prepublish"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm run compile"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"compile"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tsc -p ./"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"watch"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tsc -watch -p ./"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"postinstall"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"node ./node_modules/vscode/bin/install"')]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"devDependencies"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"@types/node"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^8.10.25"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"tslint"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^5.11.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"typescript"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^2.6.1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token property"}},[s._v('"vscode"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^1.1.22"')]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br")])]),n("h2",{attrs:{id:"插件入口文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#插件入口文件"}},[s._v("#")]),s._v(" 插件入口文件")]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("插件入口文件会导出两个函数，"),n("code",[s._v("activate")]),s._v(" 和 "),n("code",[s._v("deactivate")]),s._v("，你注册的"),n("strong",[s._v("激活事件")]),s._v("被触发之时执行"),n("code",[s._v("activate")]),s._v("，"),n("code",[s._v("deactivate")]),s._v("则提供了插件关闭前执行清理工作的机会。")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://www.npmjs.com/package/vscode",target:"_blank",rel:"noopener noreferrer"}},[n("code",[s._v("vscode")]),n("OutboundLink")],1),s._v("模块包含了一个位于"),n("code",[s._v("node ./node_modules/vscode/bin/install")]),s._v("的脚本，这个脚本会拉取"),n("code",[s._v("package.json")]),s._v("中"),n("code",[s._v("engines.vscode")]),s._v("字段定义的VS Code API。这个脚本执行过后，你就得到了智能代码提示，定义跳转等TS特性了。")]),s._v(" "),n("div",{staticClass:"language-typescript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-typescript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 'vscode'模块包含了VS Code extensibility API")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 按下述方式导入这个模块")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" vscode "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vscode'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 一旦你的插件激活，vscode会立刻调用下述方法")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("activate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("context"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" vscode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ExtensionContext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 用console输出诊断信息(console.log)和错误(console.error)")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 下面的代码只会在你的插件激活时执行一次")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("console")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Congratulations, your extension \"my-first-extension\" is now active!'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 入口命令已经在package.json文件中定义好了，现在调用registerCommand方法")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// registerCommand中的参数必须与package.json中的command保持一致")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" disposable "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" vscode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("commands"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("registerCommand")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'extension.sayHello'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 把你的代码写在这里，每次命令执行时都会调用这里的代码")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 给用户显示一个消息提示")]),s._v("\n        vscode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("showInformationMessage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Hello World!'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subscriptions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("disposable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);